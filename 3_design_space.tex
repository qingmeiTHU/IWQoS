%\section{A closer look at the quality issues}
\vspace{-0.05in}  
\subsection{Design Space Insight}
The frame drop issue obviously violate the quality requirements, but naive solutions like increase video buffer violate the timeliness requirement. Thus, in our design, we keep video streaming buffer to be small enough to satisfy the timeliness requirement, and devise the frame generation and delivery mechanisms to improve video quality and adapt to variable network conditions. We limit the buffer size to $0.9s$, and the previous motivating example gives us three intuitions to improve the video streaming quality.

%To meet the delay constraints, there are two kinds of solution. One is to limit the timeliness of the sender buffer, i.e., strictly restrain each frame to meet the time requirements; the other may be controlled by scheduling to maintain the average of delay at the target value. Using this method, the largest end-to-end delay may be quite big. In our case, the first one is our choice. We limit the buffer size to $0.9s$. With buffer size limited, the previous motivating example gives us intuitions to redesign video frame generation and streaming in three levels.

\textbf{Reduce the dependency between frames.}
The dependency between frames is from the video compression algorithm H.264, where compressed frames (non-keyframes) are computed from keyframes. Keyframes are independency. Thus, the dependency is limited within each GOP. Thus, the intuition to eliminate dependency is to reduce GOP size (in the extreme case, there GOP size is 1, there is no dependency). For example, if a 2-second interruption starts at the beginning of an 8-second GOP, the whole group are dropped; but if the 8-second GOP is refined to be four 2-second GOP, only one 2-second GOP would be dropped. Thus, the cascading effect would be eliminated. Nevertheless, this approach may be a tradeoff between the minimal frame drop and the video quality, because reducing keyframe interval means less compression in video streaming, to keep a pre-configured bitrate, per-image quality would be degraded (i.e., ``big pixels'').


%Another approach is to adapt the GOP selection to the network condition. In details, when the network recovers from an interruption, the first frame transmitted is encoded as I frame, and a new GOP restarts from this first frame. In this way, the new GOP has no dependency on previous (possible dropped) frames, and all its frames are decodable. This approach may need to modify the encoding workflow, which is hard and out of control.

\textbf{Drop frames wisely.} The default strategy in OBS is dropping all P/B frames in the buffer when exceeding a threshold. It is kind of reasonable because if dropping the earlier frames, the following frames cannot be decodable. And if dropping the latest several frames, the earlier frames still exist in the buffer, therefore, the timeliness will be violated. But intuitively, for the case when two or more GOPs coexist in the buffer, dropping frames within the old GOP, may have better performance. It is worth thinking how to design an online frame dropping strategy that approaches the optimal solution. The challenge lies in the complexity of the frame dependency. A brute force solution is impossible due to its time complexity.

\textbf{Adaptive bitrate.} Figure~\ref{fig:trace-all} shows network failures occur frequently, and measurements show that commercial applications only use constant bitrate(CBR) or average bitrate(ABR) (i.e., the actual bitrate varies among the target value, at most $20\%$ lower or higher of the target bitrate. These two methods cannot follow the dynamic bandwidth, which would bring tremendous frame dropping when bandwidth falls down, especially in the case where the bandwidth drop lasts for a certain while. One possible solution is similar to DASH in VOD scenario, applying adaptive bitrate in broadcaster's side. In our case, the bitrate differs between two GOPs, which means we would decide a bitrate for each GOP. Introducing bitrate adaptation maybe dramatically cut down the frame dropping.

